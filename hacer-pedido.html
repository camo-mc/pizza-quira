<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta
    name="description"
    content="Realiza tu pedido en Pizza Quira. Selecciona tus productos, define si es a domicilio o recogida y envía tu pedido por WhatsApp."
  />
  <title>Hacer Pedido - Pizza Quira Delivery</title>
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="assets/css/style.css" />
  <!-- Vue.js -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
</head>
<body>
  <header class="header">
    <div class="container header-content">
      <!-- Logo -->
      <div class="logo-container">
        <a href="index.html">
          <img
            src="assets/images/quira.png"
            alt="Pizza Quira Logo"
            class="logo"
          />
        </a>
      </div>
      <!-- Botón hamburguesa -->
      <button class="hamburger" id="hamburger-btn">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <!-- Menú de navegación -->
      <nav class="nav-menu" id="nav-menu">
        <ul>
          <li><a href="index.html">Inicio</a></li>
          <li><a href="terminos.html">Términos y Condiciones</a></li>
          <li><a href="carta.html">Carta</a></li>
          <li><a href="contactanos.html">Contáctanos</a></li>
          <li><a class="btn-pedido-nav" href="hacer-pedido.html">Hacer Pedido</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Vue App -->
  <div id="app" class="container">
    <!-- Método de entrega -->
    <section class="entrega">
      <h2>Elige cómo recibir tu pedido</h2>
      <div class="opciones-entrega">
        <label>
          <input type="radio" value="domicilio" v-model="deliveryMethod" /> A
          Domicilio
        </label>
        <label>
          <input type="radio" value="tienda" v-model="deliveryMethod" /> Recoger
          en Tienda
        </label>
      </div>
    </section>

    <!-- Formulario domicilio -->
    <section v-if="deliveryMethod === 'domicilio'" class="formulario">
      <h3>Datos para entrega a domicilio</h3>
      <form @submit.prevent>
        <input
          type="text"
          v-model="formDomicilio.nombre"
          placeholder="Nombre"
          required
        />
        <input
          type="tel"
          v-model="formDomicilio.telefono"
          placeholder="Teléfono"
          required
        />
        <input
          type="text"
          v-model="formDomicilio.direccion"
          placeholder="Dirección"
          required
        />
        <input
          type="text"
          v-model="formDomicilio.barrio"
          placeholder="Barrio"
          required
        />
        <select v-model="formDomicilio.pago" required>
          <option value="">Medio de Pago</option>
          <option value="Nequi">Nequi</option>
          <option value="Daviplata">Daviplata</option>
          <option value="Tarjeta">Tarjeta</option>
          <option value="Transferencia">Transferencia</option>
          <option value="Efectivo">Efectivo</option>
        </select>
        <textarea
          v-model="formDomicilio.comentarios"
          placeholder="Comentarios (apt, casa, torre, etc.)"
        ></textarea>
      </form>
    </section>

    <!-- Formulario tienda -->
    <section v-else-if="deliveryMethod === 'tienda'" class="formulario">
      <h3>Datos para recoger en tienda</h3>
      <form @submit.prevent>
        <input
          type="text"
          v-model="formTienda.nombre"
          placeholder="Nombre"
          required
        />
        <input
          type="tel"
          v-model="formTienda.telefono"
          placeholder="Teléfono"
          required
        />
        <textarea
          v-model="formTienda.comentarios"
          placeholder="Comentarios"
        ></textarea>
      </form>
    </section>

    <!-- Productos -->
    <section class="productos">
      <h2>Productos</h2>
      <!-- Pizzas -->
      <div class="categoria">
        <h3>Pizzas</h3>
        <div class="producto">
          <h4>Pizzas Clásicas y Gourmet</h4>
          <label for="pizza-tamano">Tamaño:</label>
          <select v-model="pizza.tamano" id="pizza-tamano">
            <option disabled value="">Selecciona tamaño</option>
            <option value="porcion">Porción ($9.000)</option>
            <option value="personal">Personal</option>
            <option value="mediana">Mediana</option>
            <option value="familiar">Familiar</option>
          </select>

          <!-- Porción: 1 sabor -->
          <div v-if="pizza.tamano === 'porcion'">
            <label>Sabor (1):</label>
            <select v-model="pizza.sabores[0]">
              <option disabled value="">Selecciona sabor</option>
              <option
                v-for="flavor in allFlavors"
                :value="flavor"
                :key="flavor.name + 'porcion'"
              >
                {{ flavor.name }} ({{ flavor.ingredients }})
              </option>
            </select>
          </div>

          <!-- Personal: 2 sabores -->
          <div v-if="pizza.tamano === 'personal'">
            <label>Sabor 1:</label>
            <select v-model="pizza.sabores[0]">
              <option disabled value="">Selecciona sabor</option>
              <option
                v-for="flavor in allFlavors"
                :value="flavor"
                :key="flavor.name + 'pers1'"
              >
                {{ flavor.name }} ({{ flavor.ingredients }})
              </option>
            </select>

            <label>Sabor 2:</label>
            <select v-model="pizza.sabores[1]">
              <option disabled value="">Selecciona sabor</option>
              <option
                v-for="flavor in allFlavors"
                :value="flavor"
                :key="flavor.name + 'pers2'"
              >
                {{ flavor.name }} ({{ flavor.ingredients }})
              </option>
            </select>
          </div>

          <!-- Mediana: 2 sabores -->
          <div v-if="pizza.tamano === 'mediana'">
            <label>Sabor 1:</label>
            <select v-model="pizza.sabores[0]">
              <option disabled value="">Selecciona sabor</option>
              <option
                v-for="flavor in allFlavors"
                :value="flavor"
                :key="flavor.name + 'med1'"
              >
                {{ flavor.name }} ({{ flavor.ingredients }})
              </option>
            </select>
            <label>Sabor 2:</label>
            <select v-model="pizza.sabores[1]">
              <option disabled value="">Selecciona sabor</option>
              <option
                v-for="flavor in allFlavors"
                :value="flavor"
                :key="flavor.name + 'med2'"
              >
                {{ flavor.name }} ({{ flavor.ingredients }})
              </option>
            </select>
          </div>

          <!-- Familiar: 3 sabores -->
          <div v-if="pizza.tamano === 'familiar'">
            <label>Sabor 1:</label>
            <select v-model="pizza.sabores[0]">
              <option disabled value="">Selecciona sabor</option>
              <option
                v-for="flavor in allFlavors"
                :value="flavor"
                :key="flavor.name + 'fam1'"
              >
                {{ flavor.name }} ({{ flavor.ingredients }})
              </option>
            </select>
            <label>Sabor 2:</label>
            <select v-model="pizza.sabores[1]">
              <option disabled value="">Selecciona sabor</option>
              <option
                v-for="flavor in allFlavors"
                :value="flavor"
                :key="flavor.name + 'fam2'"
              >
                {{ flavor.name }} ({{ flavor.ingredients }})
              </option>
            </select>
            <label>Sabor 3:</label>
            <select v-model="pizza.sabores[2]">
              <option disabled value="">Selecciona sabor</option>
              <option
                v-for="flavor in allFlavors"
                :value="flavor"
                :key="flavor.name + 'fam3'"
              >
                {{ flavor.name }} ({{ flavor.ingredients }})
              </option>
            </select>
          </div>

          <button @click="agregarProducto('Pizza', calcularPrecioPizza())">
            Agregar
          </button>
        </div>
      </div>

      <!-- Hamburguesas -->
      <div class="categoria">
        <h3>Hamburguesas ($15.000)</h3>
        <div
          class="producto"
          v-for="hamburguesa in hamburguesas"
          :key="hamburguesa.name"
        >
          <h4>{{ hamburguesa.name }} - $15.000</h4>
          <p>{{ hamburguesa.ingredients }}</p>
          <button @click="agregarProducto(hamburguesa.name, 15000)">
            Agregar
          </button>
        </div>
      </div>

      <!-- Pizza Dog -->
      <div class="categoria">
        <h3>Pizza Dog ($15.000)</h3>
        <div class="producto" v-for="pDog in pizzaDogs" :key="pDog.name">
          <h4>{{ pDog.name }} - $15.000</h4>
          <p>{{ pDog.ingredients }}</p>
          <button @click="agregarProducto(pDog.name, 15000)">Agregar</button>
        </div>
      </div>

      <!-- Bebidas -->
      <div class="categoria">
        <h3>Bebidas</h3>
        <div class="producto" v-for="bebida in bebidas" :key="bebida.name">
          <h4>
            {{ bebida.name }} - ${{ numberFormat(bebida.price) }}
          </h4>
          <button @click="agregarProducto(bebida.name, bebida.price)">
            Agregar
          </button>
        </div>
      </div>
    </section>

    <!-- Carrito flotante -->
    <div class="carrito-flotante">
      <h3>Tu Pedido</h3>
      <div v-for="(item, index) in carrito" :key="index">
        <span>{{ item.nombre }} - ${{ numberFormat(item.precio) }}</span>
        <button @click="eliminarProducto(index)">Eliminar</button>
      </div>
      <p>Total: ${{ numberFormat(total) }}</p>
      <button @click="enviarPedido()">Enviar Pedido por WhatsApp</button>
      <!-- Se ha removido el botón "Agregar Más" -->
    </div>
  </div>

  <footer class="container">
    <p>El amor por la pizza nos une y nos alegra a cada bocado</p>
    <p>Diseñada: 2025 www.checkinpos.co - Todos los derechos reservados</p>
  </footer>

  <script src="assets/js/app.js"></script>
  <script>
    // Menú hamburguesa
    const hamburgerBtn = document.getElementById('hamburger-btn');
    const navMenu = document.getElementById('nav-menu');

    hamburgerBtn.addEventListener('click', () => {
      navMenu.classList.toggle('nav-open');
      hamburgerBtn.classList.toggle('is-active');
    });
  </script>
</body>
</html>
